# tryBI
небольшое сравнение DataLens и Apache superset

[Создание таблиц и наполнение их данными при помощи airflow](#first)
2) Создание диаграмм в DataLens
3) Создание диаграмм в Apache superset

## <a id="first">Создание таблиц и наполнение их данными при помощи airflow</a>
Данные, на основании которых будут построены диаграммы имеют примерно следующий вид (пример протокола любительского старта https://5verst.ru/tyumenparkgagarina/results/12.04.2025/)
|Город |Локация           |id Участника|Дата забега|Группв     |Результат (секунд)|
|------|------------------|------------|-----------|-----------|------------------|
|Тюмень|zatyumensky       |790145311   | 16.09.2023|Ж30-34     | 1681             |
|Тюмень|tyumenparkgagarina|790145311   | 12.04.2025|Ж30-34     | 1958             |

Парсить ФИО участников не планируется - так как это противоречит закону о защите персональных данных.
Можно было бы превести данные к 3НФ, выделив сущности:
* Город (id_города, наименование)
* Локация (id_локации, наименование, id_города)
* Протокол (id_протокола, id_локации, дата_забега, группа, id_участника, результат)
Причечание: Группа относится к сущности протокол, а не к сущности участник, так как возраст участника меняется от забега к забегу

Но в рамках данной задачи я не вижу в этом смысла (просто сохраню все в одну таблицу, тем более ошибок из-за ручного ввода не случится)
Поэтому я создам только одну таблицу и на основании нее буду строить диаграммы
|Что такое   |Название поля в БД|Тип данных|Дополнительно|
|------------|------------------|----------|-------------|
|Город       |city              |          | 
|Локация     |loc               |          | 
|id_участника|id_runner         |          |
|Дата забега |date_r            |          |
|Результат   |result            |          |



## Создание диаграмм в DataLens 
## Создание диаграмм в  Apache superset